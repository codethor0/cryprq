Most-used commands

# 1) Validate + open PR (no ship)

./scripts/one-shot.sh



# 2) Validate + PR + ship after checks

SHIP=true ./scripts/one-shot.sh --ship



# 3) Add post-ship monitoring + sanity checks

SHIP=true RUN_POST=true ./scripts/one-shot.sh --ship --post



# 4) Test CLI logging (verify observability)

./scripts/test-cli-logs.sh



Quick sanity before ship (30s)

./scripts/quick-smoke.sh || ./scripts/local-validate.sh

./scripts/observability-checks.sh

./scripts/sanity-checks.sh

# Verify logging is observable
RUST_LOG=info ./target/release/cryprq --listen /ip4/0.0.0.0/udp/9999/quic-v1 &
# Check for: event=listener_starting, event=handshake_complete, event=key_rotation



Golden path (60s)



Desktop: Connect â†’ charts â‰¤3â€“5s â†’ Rotate (toast â‰¤2s) â†’ Disconnect



Mobile: Settings â†’ Report Issue â†’ share sheet (<2MB, "Report Prepared")



Rollback (if needed)



Desktop: unmark v1.1.0 "Latest" on GitHub Release; re-promote prior stable



Mobile: pause Play rollout / expire TestFlight build



Pro tip (flags & telemetryâ€”on demand)

# Kill features at runtime (no rebuild)

CRYPRQ_FLAGS='{"enableCharts":false,"enableTrayEnhancements":false}' npm run dev



# Turn on telemetry v0 only when ready (in-app toggle)

# Then tail:

tail -f ~/.cryprq/telemetry/events-$(date +%Y-%m-%d).jsonl





You're set. Run the one-shot, watch CI publish, and go live. ðŸš€

## Log Reference

See `docs/OPERATOR_LOGS.md` for complete log event reference:
- Listener startup: `event=listener_starting`, `event=listener_ready`
- Handshake: `event=handshake_complete`, `event=connection_established`
- Key rotation: `event=rotation_task_started`, `event=key_rotation`
- Docker logs: See `docs/DOCKER_VPN_LOGS.md`

